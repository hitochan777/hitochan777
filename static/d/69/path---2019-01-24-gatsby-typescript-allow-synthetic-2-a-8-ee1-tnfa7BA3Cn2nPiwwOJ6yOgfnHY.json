{"data":{"markdownRemark":{"html":"<p><a href=\"\">gatsby-plugins-typescript</a>で GatsbyJS を typescript で使えるようしていた。\nで今日、typescript だから VSCode を使うみたいな状況を避けたかったので、<a href=\"https://github.com/Quramy/tsuquyomi\">tsuquyomi</a>という便利な Vim の typescript プラグインを入れてみた。</p>\n<p>すると、以下のようなエラーで怒られた。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/templates/blog-post.tsx:1:8 - error TS1192: Module &#39;&quot;/home/hitochan/developer/me/node_modules/@types/react/index&quot;&#39; has no default export.\n\n1 import React from &#39;react&#39;</code></pre></div>\n<p>エラーが言っていることは文字通りで、react には default export がないのにそれを import しようとしてるよ！というエラーだ。</p>\n<p>具体的には以下のコード。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React from &#39;react&#39;</code></pre></div>\n<p>なんで今更こんなエラーが出るようになったかというと、\ngatsby-plugins-typescript は型チェックなどはせずに js にトランスパイルするだけなのでこのような今まで気づかなかっただけ。</p>\n<p>解決策は 2 つ</p>\n<ol>\n<li><code class=\"language-text\">import * as React from &#39;react&#39;</code></li>\n<li><code class=\"language-text\">tsconfig.json</code>の<code class=\"language-text\">compileOptions</code>に以下のように</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    ...\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    ...\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  ...\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"typescriptのvim pluginとgatsby-plugins-typescriptを一緒に使う","date":"2019-01-24T00:00:00.000Z"},"timeToRead":1}},"pageContext":{"slug":"/2019/01/24/gatsby-typescript-allow-synthetic/"}}