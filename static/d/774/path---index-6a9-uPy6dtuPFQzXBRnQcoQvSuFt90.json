{"data":{"allMarkdownRemark":{"totalCount":4,"edges":[{"node":{"rawMarkdownBody":"\n例えば下のコードで`.full-width`がついた`div`要素を viewport の幅いっぱいに表示したいとする。\n`.full-width`の`width`を 100%に指定しているので、`.parent`の幅までしか広がらない。\n仮に`100vw`にしたとしても`.parent`の要素が viewport の左端から始まっていないと幅いっぱいに表示されるようにはならない。\n\n```html\n<div class=\"parent\">\n  <p>paragraph before images</p>\n  <div class=\"full-width\"></div>\n  <p>paragraph after images</p>\n</div>\n```\n\n```css\n.parent {\n  width: 50%;\n}\n\n.full-width {\n  height: 100px;\n  width: 100%;\n  background-color: green;\n}\n```\n\n# 解決方法\n\n解決方法は `calc` を使い方法など[色々ある](https://css-tricks.com/full-width-containers-limited-width-parents/)のですが、`calc` も使わないシンプルな方法がある。\nそれが以下のコード。\n\n```css\nparent {\n  width: 100px\n  position: relative;\n}\n\n.full-width {\n  width: 100vw;\n  position: relative;\n  left: 50%;\n  margin-left: -50vw;\n  height: 100px;\n  background-color: green;\n}\n```\n\nポイントは次のとおり。\n\n- 子要素で`position`を`relative`にするために親要素も`relative`に設定\n- viewport の幅いっぱいに表示したいので`width`は`100vw`に設定\n- `.full-width`の`div`要素がもともと配置される予定だった位置から相対的に右に 50%ずらす。そうすると viewport のちょうど真ん中から div 要素が表示されるようになる。\n- あとは`margin-left: -50vw`で viewport の幅半分分左にずらせば幅いっぱいに表示できる。\n\n<p class=\"codepen\" data-height=\"300\" data-theme-id=\"0\" data-default-tab=\"html,result\" data-user=\"hitochan777\" data-slug-hash=\"JxbZEE\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"JxbZEE\">\n  <span>See the Pen <a href=\"https://codepen.io/hitochan777/pen/JxbZEE/\">\n  JxbZEE</a> by Hitoshi Otsuki (<a href=\"https://codepen.io/hitochan777\">@hitochan777</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\n注意しないといけないのは縦スクロールバーがある場合は、`100vw`はそれも含んだ値になるので、\n結果的に横スクロールバーが表示されてしまう。`overflow-x: hidden`で横スクロールバーを消すしか無いのかな...\n","fields":{"slug":"/2019/01/30/full-width-css/"},"frontmatter":{"title":"親要素の幅に制限されず幅いっぱいに表示したい時","date":"2019-01-30T00:00:00.000Z"}}},{"node":{"rawMarkdownBody":"\n『学びを結果に変えるアウトプット大全』(樺沢紫苑著)を読んだ。\n本を月にどれだけ読んだとしても結局アウトプットしなければ意味がないと述べており、\n確かに今までに読んだ本の内容説明できるかと言われてもだいたい忘れているなと納得させられた。\n\nアウトプットの種類を「話す」、「書く」、「行動する」の 3 つに分けて説明されているのだが、\n図が散りばめられていたため理解しやすくスラスラ読むことができた。\n\n各項目で自分が印象に残った項目は以下。\n\n- 話す\n  - 人に物事を伝えるときは、No but 話法 ではなく、Yes で始まるクッション話法を使うことを心がける。  \n    ネガティブなことから始めるのではなくポジティブなことを先に伝えると相手に与える印象が変わってくる。\n- 書く\n  - TODO アプリを使うと他のアプリに気が散ってしまうことがあるので、TODO リストは紙に書く\n  - 構想を練るときは紙とペンで、アイデアがある程度出てきたらパソコンでまとめる。  \n    スライドを作るときも一緒で最初からスライドを作ろうとしないこと。まずはアナログで言いたいことをまとめる。\n  - 目標を実現するためには、頻繁に目標が目に入るようにすべき。 (確かに今年の抱負もなんだったかはっきり覚えてないなー)\n- 行動する\n  - やる気が出なくてもとりあえずやってみると、やる気スイッチが ON になる。\n\nアプリ開発も今ちょっと滞ってるんだけどちゃんと紙で整理し直してみようと思う。\n","fields":{"slug":"/2019/01/25/output-book/"},"frontmatter":{"title":"『アウトプット大全』を読んだ","date":"2019-01-25T00:00:00.000Z"}}},{"node":{"rawMarkdownBody":"\n[gatsby-plugins-typescript](https://www.gatsbyjs.org/packages/gatsby-plugin-typescript/)で GatsbyJS を typescript で使えるようしていた。\nで今日、typescript だから VSCode を使うみたいな状況を避けたかったので、[tsuquyomi](https://github.com/Quramy/tsuquyomi)という便利な Vim の typescript プラグインを入れてみた。\n\nすると、以下のようなエラーで怒られた。\n\n```\nsrc/templates/blog-post.tsx:1:8 - error TS1192: Module '\"/home/hitochan/developer/me/node_modules/@types/react/index\"' has no default export.\n\n1 import React from 'react'\n```\n\nエラーが言っていることは文字通りで、react には `default export` がないのにそれを `import` しようとしてるよ！というエラーだ。\n\n具体的には以下のコード。\n\n```\nimport React from 'react'\n```\n\nなんで今更こんなエラーが出るようになったかというと、\ngatsby-plugins-typescript は型チェックなどはせずに js にトランスパイルするだけなので気づかなかっただけ。\n\n解決策は 2 つ。`tsconfig.json`を追加すれば他のファイルの変更はいらないので今回は 2 にした。\nちなみに`gatsby-plugins-typescript`は`tsconfig.json`に全く影響されないっぽいので、設定は gatsby-config.js でやる必要がある。\n\n1. `import * as React from 'react'`で全ての`export`を`React`として`import`\n2. `tsconfig.json`の`compileOptions`に以下のように`\"esModuleInterop\": true`を設定。\n\n```json\n{\n  \"compilerOptions\": {\n    ...\n    \"esModuleInterop\": true,\n    ...\n  },\n  ...\n}\n```\n","fields":{"slug":"/2019/01/24/gatsby-typescript-allow-synthetic/"},"frontmatter":{"title":"typescriptのvim pluginとgatsby-plugins-typescriptを一緒に使う","date":"2019-01-24T00:00:00.000Z"}}},{"node":{"rawMarkdownBody":"\nf1-micro インスタンスは 3 個以上でないと GKE クラスタが作れないが、  \n一度クラスタを作成してからインスタンスグループをスケーリングすることで一個でのクラスタに変更できる。([参考](https://snyke.net/post/kubernetes-playground/))\nf1-micro はメモリが 0.6GB しかないので、自動でデプロイされるコンテナできちきちな状況。  \nログのコンテナとか色々無効にすれば空きはでるものの ([参考](https://qiita.com/apstndb/items/1c3f8ea026ed6b27e357))、いろんなコンテナデプロイして試すにはやっぱりメモリがある程度欲しいよねってことで n1-standard-1 を使うことにした。  \nn1-standard-1 だとノードの数が 1 個でもクラスタは起動できるみたい。\n\n1. クラスタを作成\n\n   ```bash\n   $ gcloud container clusters create hitochan-cluster \\\n     --machine-type=n1-standard-1 \\\n     --num-nodes=1 \\\n     --disk-size=10 \\\n     --no-enable-cloud-logging \\\n     --enable-autorepair \\\n     --preemptible\n   ```\n\n2. インスタンスグループの一覧を表示して名前をメモしておく。\n\n   ```bash\n   $ gcloud compute instance-groups managed list\n   NAME                                            LOCATION       SCOPE  BASE_INSTANCE_NAME                          SIZE  TARGET_SIZE  INSTANCE_TEMPLATE                           AUTOSCALED\n   gke-hitochan-cluster-default-pool-6618700a-grp  us-central1-a  zone   gke-hitochan-cluster-default-pool-6618700a  1     1            gke-hitochan-cluster-default-pool-6618700a  no\n   ```\n\n3. 2 でメモしたインスタンスグループ名を指定して、インスタンス数を変更する。節約したいので使わないときは 0 にしておく。\n\n   ```bash\n   $ gcloud compute instance-groups managed resize gke-hitochan-cluster-default-pool-6618700a-grp --size=0\n   ```\n","fields":{"slug":"/2019/01/15/gke-cluster-memo/"},"frontmatter":{"title":"GKEでクラスタ作るときのメモ","date":"2019-01-15T00:00:00.000Z"}}}]}},"pageContext":{}}